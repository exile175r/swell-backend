ğŸŒŠ ë„ˆìš¸ (Swell) Backend API ëª…ì„¸ì„œ (Draft)
Version: 1.0.0
Base URL: http://localhost:8080/api (ë¡œì»¬ ê°œë°œ í™˜ê²½)
Last Updated: 2024.05.20

1. ê°œìš” (Overview)
ë³¸ ë¬¸ì„œëŠ” ìµëª… ê°ì • í•´ì†Œ ì»¤ë®¤ë‹ˆí‹° 'ë„ˆìš¸'ì˜ í´ë¼ì´ì–¸íŠ¸(React)ì™€ ì„œë²„(Node.js) ê°„ì˜ í†µì‹  ê·œì•½ì„ ì •ì˜í•©ë‹ˆë‹¤.í˜„ì¬ ë‹¨ê³„ì—ì„œëŠ” ë³„ë„ì˜ ì¸ì¦(Auth) í† í° ì—†ì´ ì—´ë ¤ìˆëŠ” ìƒíƒœë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

2. API ìƒì„¸ (Endpoints)
2.1. ê²Œì‹œê¸€ (Posts)
ğŸ“‹ ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
ë©”ì¸ í”¼ë“œì— ë…¸ì¶œë  ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ë¥¼ ìµœì‹ ìˆœìœ¼ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.
URL: /posts
Method: GET
Response (200 OK):[
  {
    "id": 1,
    "nickname": "ì„¼ì¹˜í•œ ê·¸ë¦¼ì",
    "content": "ì˜¤ëŠ˜ ë„ˆë¬´ í˜ë“œë„¤ìš”...",
    "createdAt": "2024-05-20T09:00:00.000Z",
    "likes": 12,
    "dislikes": 0,
    "comments": 3,
    "hasVote": true,
    "voteData": {
      "agree": 10,
      "disagree": 5,
      "total": 15
    }
  },
  ...
]
âœï¸ ê²Œì‹œê¸€ ì‘ì„±ìƒˆë¡œìš´ ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.URL: /postsMethod: POSTRequest Body (JSON):{
  "content": "ì‘ì„±í•  ë³¸ë¬¸ ë‚´ìš©",
  "hasVote": true, // íˆ¬í‘œ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€ (boolean)
  "nickname": "ëœë¤ ë‹‰ë„¤ì„"
}
Response (201 Created):ìƒì„±ëœ ê²Œì‹œê¸€ ê°ì²´ ë°˜í™˜2.2. ì¸í„°ë™ì…˜ (Interaction)â¤ï¸ ê³µê°/ë¹„ê³µê° (ë°˜ì‘)ê²Œì‹œê¸€ì— ëŒ€í•´ ê³µê°(ì¢‹ì•„ìš”) ë˜ëŠ” ë¹„ê³µê°(ì‹«ì–´ìš”)ì„ í‘œì‹œí•©ë‹ˆë‹¤.URL: /posts/:id/reactionMethod: POSTPath Variables:id: ê²Œì‹œê¸€ ID (Integer)Request Body (JSON):{
  "type": "like" // ë˜ëŠ” "dislike"
}
Response (200 OK):{
  "success": true,
  "likes": 13,    // ê°±ì‹ ëœ ì¢‹ì•„ìš” ìˆ˜
  "dislikes": 0   // ê°±ì‹ ëœ ì‹«ì–´ìš” ìˆ˜
}
ğŸ“Š íˆ¬í‘œ í•˜ê¸°ì°¬ë°˜ íˆ¬í‘œê°€ í¬í•¨ëœ ê²Œì‹œê¸€ì— íˆ¬í‘œí•©ë‹ˆë‹¤.URL: /posts/:id/voteMethod: POSTPath Variables:id: ê²Œì‹œê¸€ ID (Integer)Request Body (JSON):{
  "voteType": "agree" // ë˜ëŠ” "disagree"
}
Response (200 OK):{
  "success": true,
  "voteData": {
    "agree": 11,
    "disagree": 5,
    "total": 16
  }
}
2.3. AI ê¸°ëŠ¥ (STT)ğŸ¤ ìŒì„± ì¸ì‹ (STT)í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë…¹ìŒëœ ì˜¤ë””ì˜¤ íŒŒì¼(Blob)ì„ ë°›ì•„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.ë°±ì—”ë“œì—ì„œëŠ” Faster-Whisper ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.URL: /sttMethod: POSTContent-Type: multipart/form-dataRequest Body (FormData):file: ì˜¤ë””ì˜¤ íŒŒì¼ (ë°”ì´ë„ˆë¦¬, .webm ë˜ëŠ” .mp3 ê¶Œì¥)Response (200 OK):{
  "text": "ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì •ë§ í˜ë“¤ì—ˆì–´ í•˜ì§€ë§Œ ë‚´ì¼ì€ ê´œì°®ì„ ê±°ì•¼"
}
Error Response (500 Server Error):{
  "error": "STT conversion failed"
}
3. ê°œë°œ ì°¸ê³  ì‚¬í•­ (Memo)STT ì²˜ë¦¬: Pythonì˜ faster-whisper ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©°, Node.jsì—ì„œ child_processë¡œ ì‹¤í–‰í•˜ê±°ë‚˜ ë³„ë„ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ë¥¼ ê¶Œì¥í•¨.ë‚ ì§œ í¬ë§·: í”„ë¡ íŠ¸ì—”ë“œëŠ” ISO 8601 í˜•ì‹ ë¬¸ìì—´(YYYY-MM-DDTHH:mm:ss.sssZ)ì„ ê¸°ëŒ€í•¨.